WebGLDebugUtils=function(){function e(e){if(null==l){l={};for(var t in e)"number"==typeof e[t]&&(l[e[t]]=t)}}function t(){if(null==l)throw"WebGLDebugUtils.init(ctx) not called"}function r(e){return t(),void 0!==l[e]}function n(e){t();var r=l[e];return void 0!==r?r:"*UNKNOWN WebGL ENUM (0x"+e.toString(16)+")"}function a(e,t,r){var a=c[e];return void 0!==a&&a[t]?n(r):r.toString()}function i(t,r){function i(e,t){return function(){var n=e[t].apply(e,arguments),a=e.getError();return 0!=a&&(o[a]=!0,r(a,t,arguments)),n}}e(t),r=r||function(e,t,r){for(var i="",o=0;o<r.length;++o)i+=(0==o?"":", ")+a(t,o,r[o]);f("WebGL error "+n(e)+" in "+t+"("+i+")")};var o={},u={};for(var c in t)u[c]="function"==typeof t[c]?i(t,c):t[c];return u.getError=function(){for(var e in o)if(o[e])return o[e]=!1,e;return t.NO_ERROR},u}function o(e){var t=e.getParameter(e.MAX_VERTEX_ATTRIBS),r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r);for(var n=0;t>n;++n)e.disableVertexAttribArray(n),e.vertexAttribPointer(n,4,e.FLOAT,!1,0,0),e.vertexAttrib1f(n,0);e.deleteBuffer(r);for(var a=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),n=0;a>n;++n)e.activeTexture(e.TEXTURE0+n),e.bindTexture(e.TEXTURE_CUBE_MAP,null),e.bindTexture(e.TEXTURE_2D,null);for(e.activeTexture(e.TEXTURE0),e.useProgram(null),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.DITHER),e.disable(e.SCISSOR_TEST),e.blendColor(0,0,0,0),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.clearColor(0,0,0,0),e.clearDepth(1),e.clearStencil(-1),e.colorMask(!0,!0,!0,!0),e.cullFace(e.BACK),e.depthFunc(e.LESS),e.depthMask(!0),e.depthRange(0,1),e.frontFace(e.CCW),e.hint(e.GENERATE_MIPMAP_HINT,e.DONT_CARE),e.lineWidth(1),e.pixelStorei(e.PACK_ALIGNMENT,4),e.pixelStorei(e.UNPACK_ALIGNMENT,4),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.UNPACK_COLORSPACE_CONVERSION_WEBGL&&e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.BROWSER_DEFAULT_WEBGL),e.polygonOffset(0,0),e.sampleCoverage(1,!1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilMask(4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.viewport(0,0,e.canvas.clientWidth,e.canvas.clientHeight),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT|e.STENCIL_BUFFER_BIT);e.getError(););}function u(e){function t(e){return e instanceof WebGLBuffer||e instanceof WebGLFramebuffer||e instanceof WebGLProgram||e instanceof WebGLRenderbuffer||e instanceof WebGLShader||e instanceof WebGLTexture}function r(e){for(var r=0;r<e.length;++r){var n=e[r];if(t(n))return n.__webglDebugContextLostId__==l}return!0}function n(){for(var e=Object.keys(m),t=0;t<e.length;++t)delete glErrorShdow_[e]}function a(e,t){var n=e[t];return function(){if(!s){if(!r(arguments))return m[e.INVALID_OPERATION]=!0,void 0;var t=n.apply(e,arguments);return t}}}function i(e){return{statusMessage:e}}function u(){for(var t=0;t<g.length;++t){var r=g[t];r instanceof WebGLBuffer?e.deleteBuffer(r):r instanceof WebctxFramebuffer?e.deleteFramebuffer(r):r instanceof WebctxProgram?e.deleteProgram(r):r instanceof WebctxRenderbuffer?e.deleteRenderbuffer(r):r instanceof WebctxShader?e.deleteShader(r):r instanceof WebctxTexture&&e.deleteTexture(r)}}function f(e){return"function"==typeof e?e:function(t){e.handleEvent(t)}}var c={},l=1,s=!1,g=[],b=void 0,E=void 0,d=void 0,m={};for(var T in e)c[T]="function"==typeof e[T]?a(e,T):e[T];c.loseContext=function(){if(!s){for(s=!0,++l;e.getError(););n(),m[e.CONTEXT_LOST_WEBGL]=!0,setTimeout(function(){b&&b(i("context lost"))},0)}},c.restoreContext=function(){if(s){if(!E)throw"You can not restore the context without a listener";setTimeout(function(){if(u(),o(e),s=!1,E){var t=E;E=d,d=void 0,t(i("context restored"))}},0)}},c.getError=function(){if(!s)for(var t;t=e.getError();)m[t]=!0;for(var t in m)if(m[t])return delete m[t],t;return e.NO_ERROR};for(var R=["createBuffer","createFramebuffer","createProgram","createRenderbuffer","createShader","createTexture"],A=0;A<R.length;++A){var x=R[A];c[x]=function(t){return function(){if(s)return null;var r=t.apply(e,arguments);return r.__webglDebugContextLostId__=l,g.push(r),r}}(e[x])}for(var S=["getActiveAttrib","getActiveUniform","getBufferParameter","getContextAttributes","getAttachedShaders","getFramebufferAttachmentParameter","getParameter","getProgramParameter","getProgramInfoLog","getRenderbufferParameter","getShaderParameter","getShaderInfoLog","getShaderSource","getTexParameter","getUniform","getUniformLocation","getVertexAttrib"],A=0;A<S.length;++A){var x=S[A];c[x]=function(t){return function(){return s?null:t.apply(e,arguments)}}(c[x])}for(var _=["isBuffer","isEnabled","isFramebuffer","isProgram","isRenderbuffer","isShader","isTexture"],A=0;A<_.length;++A){var x=_[A];c[x]=function(t){return function(){return s?!1:t.apply(e,arguments)}}(c[x])}return c.checkFramebufferStatus=function(t){return function(){return s?e.FRAMEBUFFER_UNSUPPORTED:t.apply(e,arguments)}}(c.checkFramebufferStatus),c.getAttribLocation=function(t){return function(){return s?-1:t.apply(e,arguments)}}(c.getAttribLocation),c.getVertexAttribOffset=function(t){return function(){return s?0:t.apply(e,arguments)}}(c.getVertexAttribOffset),c.isContextLost=function(){return s},c.registerOnContextLostListener=function(e){b=f(e)},c.registerOnContextRestoredListener=function(e){s?d=f(e):E=f(e)},c}var f=function(e){window.console&&window.console.log&&window.console.log(e)},c={enable:{0:!0},disable:{0:!0},getParameter:{0:!0},drawArrays:{0:!0},drawElements:{0:!0,2:!0},createShader:{0:!0},getShaderParameter:{1:!0},getProgramParameter:{1:!0},getVertexAttrib:{1:!0},vertexAttribPointer:{2:!0},bindTexture:{0:!0},activeTexture:{0:!0},getTexParameter:{0:!0,1:!0},texParameterf:{0:!0,1:!0},texParameteri:{0:!0,1:!0,2:!0},texImage2D:{0:!0,2:!0,6:!0,7:!0},texSubImage2D:{0:!0,6:!0,7:!0},copyTexImage2D:{0:!0,2:!0},copyTexSubImage2D:{0:!0},generateMipmap:{0:!0},bindBuffer:{0:!0},bufferData:{0:!0,2:!0},bufferSubData:{0:!0},getBufferParameter:{0:!0,1:!0},pixelStorei:{0:!0,1:!0},readPixels:{4:!0,5:!0},bindRenderbuffer:{0:!0},bindFramebuffer:{0:!0},checkFramebufferStatus:{0:!0},framebufferRenderbuffer:{0:!0,1:!0,2:!0},framebufferTexture2D:{0:!0,1:!0,2:!0},getFramebufferAttachmentParameter:{0:!0,1:!0,2:!0},getRenderbufferParameter:{0:!0,1:!0},renderbufferStorage:{0:!0,1:!0},clear:{0:!0},depthFunc:{0:!0},blendFunc:{0:!0,1:!0},blendFuncSeparate:{0:!0,1:!0,2:!0,3:!0},blendEquation:{0:!0},blendEquationSeparate:{0:!0,1:!0},stencilFunc:{0:!0},stencilFuncSeparate:{0:!0,1:!0},stencilMaskSeparate:{0:!0},stencilOp:{0:!0,1:!0,2:!0},stencilOpSeparate:{0:!0,1:!0,2:!0,3:!0},cullFace:{0:!0},frontFace:{0:!0}},l=null;return{init:e,mightBeEnum:r,glEnumToString:n,glFunctionArgToString:a,makeDebugContext:i,makeLostContextSimulatingContext:u,resetToInitialState:o}}();