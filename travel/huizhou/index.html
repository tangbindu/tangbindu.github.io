<!DOCTYPE html>
<html data-use-rem>
  <head>
    <meta charset="utf-8">
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <title>糖糖-惠州TravelRoute</title>
    <link rel="stylesheet" href="./css/index.css">
    <script type="text/javascript" src="https://api.map.baidu.com/api?v=1.0&amp;type=webgl&amp;ak=ISAD2DsOTmTavIx4MPdU5IKjXd4PDvie"></script>
  </head>
  <body ontouchstart="">
    <div class="map-container">
      <div id="container"></div>
    </div>
    <script type="text/javascript">
      let map = new BMapGL.Map("container");
      //- map.setMapType(BMAP_EARTH_MAP);
      // 创建点坐标 
      map.enableScrollWheelZoom(true);     //开启鼠标滚轮缩放
      // 控件
      const scaleCtrl = new BMapGL.ScaleControl();  // 添加比例尺控件
      map.addControl(scaleCtrl);
      const zoomCtrl = new BMapGL.ZoomControl();  // 添加缩放控件
      map.addControl(zoomCtrl);
      //- const cityCtrl = new BMapGL.CityListControl();  // 添加城市列表控件
      //- map.addControl(cityCtrl);
      // 初始化地图，设置中心点坐标和地图级别 
      map.setMapType(BMAP_EARTH_MAP);
      
      //获取点，并覆盖
      const myGeo = new BMapGL.Geocoder();
      // 将地址解析结果显示在地图上，并调整地图视野
      //- myGeo.getPoint('惠州西湖', function(point){
      //-   map.addOverlay(new BMapGL.Marker(point))
      //-   map.addOverlay(new BMapGL.Label("惠州西湖", {position: point})); 
      //- }, '惠州市')
      //- myGeo.getPoint('丰渚园', function(point){
      //-   map.addOverlay(new BMapGL.Marker(point))
      //-   map.addOverlay(new BMapGL.Label("丰渚园", {position: point})); 
      //- }, '惠州市')
      //- myGeo.getPoint('红花湖', function(point){
      //-   map.addOverlay(new BMapGL.Marker(point))
      //-   map.addOverlay(new BMapGL.Label("红花湖", {position: point})); 
      //- }, '惠州市')
      //- myGeo.getPoint('高榜山', function(point){
      //-   map.addOverlay(new BMapGL.Marker(point))
      //-   map.addOverlay(new BMapGL.Label("高榜山", {position: point})); 
      //- }, '惠州市')
      //- myGeo.getPoint('合江楼', function(point){
      //-   map.addOverlay(new BMapGL.Marker(point))
      //-   map.addOverlay(new BMapGL.Label("合江楼", {position: point})); 
      //- }, '惠州市')
      //- myGeo.getPoint('龙岩禅寺', function(point){
      //-   map.addOverlay(new BMapGL.Marker(point))
      //-   map.addOverlay(new BMapGL.Label("龙岩禅寺", {position: point})); 
      //- }, '惠州市')
      //- myGeo.getPoint('象头山国家级自然保护区', function(point){
      //-   map.addOverlay(new BMapGL.Marker(point))
      //-   map.addOverlay(new BMapGL.Label("象头山国家级自然保护区", {position: point})); 
      //- }, '惠州市')
      //- myGeo.getPoint('龙华旭日古村落', function(point){
      //-   map.addOverlay(new BMapGL.Marker(point))
      //-   map.addOverlay(new BMapGL.Label("龙华旭日古村落", {position: point})); 
      //- }, '惠州市')
      //- myGeo.getPoint('观音阁马鞍山', function(point){
      //-   map.addOverlay(new BMapGL.Marker(point, {title: '12观音阁马鞍山'}))
      //-   map.addOverlay(new BMapGL.Label("观音阁马鞍山", {position: point})); 
      //- }, '惠州市')
      
      
      
      //- myGeo.getPoint('博罗县东樵山', function(point){
      //-   map.addOverlay(new BMapGL.Marker(point, {title: '博罗县东樵山'}))
      //-   map.addOverlay(new BMapGL.Label("博罗县东樵山", {position: point})); 
      //- }, '惠州市')
      
      
      
      //- myGeo.getPoint('南昆山-自驾，登山，美食', function(point){
      //-   map.addOverlay(new BMapGL.Marker(point, {title: '南昆山-自驾，登山，美食'}))
      //-   map.addOverlay(new BMapGL.Label("南昆山-自驾，登山，美食", {position: point})); 
      //- }, '惠州市')
      
      
      //- myGeo.getPoint('中信惠州汤泉', function(point){
      //-   map.addOverlay(new BMapGL.Marker(point, {title: '中信惠州汤泉'}))
      //-   map.addOverlay(new BMapGL.Label("中信惠州汤泉", {position: point})); 
      //- }, '惠州市')
      
      
      //- myGeo.getPoint('梁化国家森林公园', function(point){
      //-   map.addOverlay(new BMapGL.Marker(point, {title: '梁化国家森林公园'}))
      //-   map.addOverlay(new BMapGL.Label("梁化国家森林公园-广东最大赏花景点", {position: point})); 
      //- }, '惠州市')
      
      
      let promise1=new Promise((resolve)=>{
        myGeo.getPoint('大学城', function(point){
          map.centerAndZoom(point, 15);   ///////////////////////>>>>>
          map.addOverlay(new BMapGL.Marker(point))
          map.addOverlay(new BMapGL.Label("大学城", {position: point})); 
          resolve(point)
        }, '深圳市')
      })
      let promise3=new Promise((resolve)=>{
        myGeo.getPoint('巽寮湾', function(point){
          map.addOverlay(new BMapGL.Marker(point))
          map.addOverlay(new BMapGL.Label("巽寮湾", {position: point})); 
          resolve(point)
        }, '惠州市')
      })
      let promise4=new Promise((resolve)=>{
        myGeo.getPoint('巽寮湾', function(point){
          map.addOverlay(new BMapGL.Marker(point))
          map.addOverlay(new BMapGL.Label("巽寮湾[2:30~3:00小时", {position: point})); 
          resolve(point)
        }, '惠州市')
      })
      let promise5=new Promise((resolve)=>{
        myGeo.getPoint('平海古城', function(point){
          map.addOverlay(new BMapGL.Marker(point))
          map.addOverlay(new BMapGL.Label("平海古城(小吃，游玩)", {position: point})); 
          resolve(point)
        }, '惠州市')
      })
      let promise6=new Promise((resolve)=>{
        myGeo.getPoint('双月湾', function(point){
          map.addOverlay(new BMapGL.Marker(point))
          map.addOverlay(new BMapGL.Label("双月湾(糖糖玩沙子|睡觉)", {position: point})); 
          resolve(point)
        }, '惠州市')
      })
      let promise7=new Promise((resolve)=>{
        myGeo.getPoint('盐洲岛', function(point){
          map.addOverlay(new BMapGL.Marker(point))
          map.addOverlay(new BMapGL.Label("盐洲岛-自驾玩", {position: point})); 
          resolve(point)
        }, '惠州市')
      })
      
      const driving = new BMapGL.DrivingRoute(map, {renderOptions:{map: map}});
      const driving1 = new BMapGL.DrivingRoute(map, {renderOptions:{map: map}});
      const driving2 = new BMapGL.DrivingRoute(map, {renderOptions:{map: map}});
      const driving3 = new BMapGL.DrivingRoute(map, {renderOptions:{map: map}});
      const driving4 = new BMapGL.DrivingRoute(map, {renderOptions:{map: map}});
      const driving5 = new BMapGL.DrivingRoute(map, {renderOptions:{map: map}});
      Promise.all([promise1,promise3,promise4,promise5,promise6,promise7]).then((ps)=>{
        driving.search(ps[0], ps[1])
        driving1.search(ps[1], ps[2])
        driving2.search(ps[2], ps[3])
        driving3.search(ps[3], ps[4])
        driving4.search(ps[4], ps[5])
      })
      
      
      
      
      
      
    </script>
  </body>
</html>